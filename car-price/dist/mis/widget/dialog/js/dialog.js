define(function(require,exports,module){function a(a){$(".j-dialog-step1-download").on("click",function(a){0===h?window.open(sharpApi.downloadcarsolutionpricetpl+"?cid="+g):1===h&&window.open(sharpApi.downloadcarsolutionprice+"?cid="+g+"&appid="+appid)}),$(".j-dialog-step3-upload").on("click",function(a){$(".j-dialog-step3-input").trigger("click")}),$(".j-dialog-confirm").on("click",function(a){var d=new FormData,e=$(".j-dialog-step3-input")[0].files[0];d.append("file",e),d.append("cid",g),d.append("appid",appid),$.ajax({url:sharpApi.addcarsolutionprice,data:d,dataType:"json",type:"POST",processData:!1,contentType:!1,beforeSend:function(){c()},success:function(a){function c(){"690px"!==$(".j-uploading-timeline").css("width")?setTimeout(function(){c()},1e3):0===a.error?b(!0):b(!1,a.message)}c()}})}),$(".j-dialog-cancel").on("click",function(a){d()})}function b(a,b){$(".j-uploading-text").addClass("hide"),$(".j-uploading-timeline").removeClass("animate").css("width","700px"),a?($(".j-uploading-success").removeClass("hide"),setTimeout(function(){$(".j-uploading").addClass("hide"),i.uploadMaskToggle(),d()},1e3)):(i.uploadMaskToggle(),$(".j-uploading").addClass("hide"),$(".j-dialog-content").addClass("hide"),$(".j-dialog-message").removeClass("hide"),$(".j-dialog-message-text").html(b),$(".j-dialog-footer").addClass("c-showone"))}function c(){i.uploadMaskToggle(),$(".j-uploading").removeClass("hide"),$(".j-uploading-timeline").addClass("animate")}function d(){$(".j-uploading").remove(),$(".j-dialog").remove(),i.maskToggle()}function e(b){j.render("widget/dialog/html/dialog",{title1:k[h],title2:b.title},function(c,d){$("body").append(d),a(b)})}function f(a){g=a.cid,h=a.type,i.maskToggle(),e(a)}require("widget/dialog/html/dialog");var g,h,i=window.sharp,j=window.dust,k=["配置价格","修改价格"];module.exports={init:f}});